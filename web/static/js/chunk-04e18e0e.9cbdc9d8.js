(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04e18e0e","chunk-efe8a00a","chunk-ce4457da","chunk-13f45794","chunk-6e8bb814","chunk-2d230fe7"],{"0006":function(e,t,a){},"095e":function(e,t,a){"use strict";var r=a("465e"),n=a.n(r);n.a},"1a8e":function(e,t,a){},"26fc":function(e,t,a){e.exports=a.p+"static/img/404_cloud.0f4bc32b.png"},"2d3b":function(e,t,a){"use strict";var r=a("1a8e"),n=a.n(r);n.a},"371d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Activity name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Activity zone"}},[a("el-select",{attrs:{placeholder:"please select your zone"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},[a("el-option",{attrs:{label:"Zone one",value:"shanghai"}}),e._v(" "),a("el-option",{attrs:{label:"Zone two",value:"beijing"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Activity time"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Pick a date"},model:{value:e.form.date1,callback:function(t){e.$set(e.form,"date1",t)},expression:"form.date1"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-time-picker",{staticStyle:{width:"100%"},attrs:{type:"fixed-time",placeholder:"Pick a time"},model:{value:e.form.date2,callback:function(t){e.$set(e.form,"date2",t)},expression:"form.date2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Instant delivery"}},[a("el-switch",{model:{value:e.form.delivery,callback:function(t){e.$set(e.form,"delivery",t)},expression:"form.delivery"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Activity type"}},[a("el-checkbox-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-checkbox",{attrs:{label:"Online activities",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"Promotion activities",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"Offline activities",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"Simple brand exposure",name:"type"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Resources"}},[a("el-radio-group",{model:{value:e.form.resource,callback:function(t){e.$set(e.form,"resource",t)},expression:"form.resource"}},[a("el-radio",{attrs:{label:"Sponsor"}}),e._v(" "),a("el-radio",{attrs:{label:"Venue"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Activity form"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("Create")]),e._v(" "),a("el-button",{on:{click:e.onCancel}},[e._v("Cancel")])],1)],1)],1)},n=[],o={data:function(){return{form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},methods:{onSubmit:function(){this.$notify("submit!")},onCancel:function(){this.$notify({message:"cancel!",type:"warning"})}}},i=o,s=(a("d3e2"),a("2877")),l=Object(s["a"])(i,r,n,!1,null,"44a61b59",null);t["default"]=l.exports},"3ed2":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-table",{attrs:{data:e.permsList,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{label:"权限名称",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"权限路径",prop:"path"}}),e._v(" "),a("el-table-column",{attrs:{label:"权限等级",prop:"level"},scopedSlots:e._u([{key:"default",fn:function(t){return["一级"===t.row.level?a("el-tag",{attrs:{type:"success"}},[e._v("一级权限")]):e._e(),e._v(" "),"二级"===t.row.level?a("el-tag",{attrs:{type:"info"}},[e._v("二级权限")]):e._e()]}}])})],1)],1)],1)},n=[],o=a("b775");function i(){return Object(o["a"])({url:"/rbac/permslist/",method:"get"})}var s={name:"Perms",data:function(){return{permsList:[]}},created:function(){this.getPermsList()},methods:{getPermsList:function(){var e=this;i().then((function(t){e.permsList=t})).catch((function(){e.$notify.error("获取权限列表失败")}))}}},l=s,c=a("2877"),d=Object(c["a"])(l,r,n,!1,null,"1de763f6",null);t["default"]=d.exports},"43ab":function(e,t,a){"use strict";var r=a("4788"),n=a.n(r);n.a},"465e":function(e,t,a){},4788:function(e,t,a){},"4b3b":function(e,t,a){var r={"./404":"8cdb","./404.vue":"8cdb","./dashboard":"9406","./dashboard/":"9406","./dashboard/index":"9406","./dashboard/index.vue":"9406","./device/Edevices":"c8fe","./device/Edevices.vue":"c8fe","./form":"371d","./form/":"371d","./form/index":"371d","./form/index.vue":"371d","./login/Login":"ede4","./login/Login.vue":"ede4","./nested/menu1":"e9bc","./nested/menu1/":"e9bc","./nested/menu1/index":"e9bc","./nested/menu1/index.vue":"e9bc","./nested/menu1/menu1-1":"91b3","./nested/menu1/menu1-1/":"91b3","./nested/menu1/menu1-1/index":"91b3","./nested/menu1/menu1-1/index.vue":"91b3","./nested/menu1/menu1-2":"55cd","./nested/menu1/menu1-2/":"55cd","./nested/menu1/menu1-2/index":"55cd","./nested/menu1/menu1-2/index.vue":"55cd","./nested/menu1/menu1-2/menu1-2-1":"65825","./nested/menu1/menu1-2/menu1-2-1/":"65825","./nested/menu1/menu1-2/menu1-2-1/index":"65825","./nested/menu1/menu1-2/menu1-2-1/index.vue":"65825","./nested/menu1/menu1-2/menu1-2-2":"b6fb","./nested/menu1/menu1-2/menu1-2-2/":"b6fb","./nested/menu1/menu1-2/menu1-2-2/index":"b6fb","./nested/menu1/menu1-2/menu1-2-2/index.vue":"b6fb","./nested/menu1/menu1-3":"8d8b","./nested/menu1/menu1-3/":"8d8b","./nested/menu1/menu1-3/index":"8d8b","./nested/menu1/menu1-3/index.vue":"8d8b","./nested/menu2":"dbb3","./nested/menu2/":"dbb3","./nested/menu2/index":"dbb3","./nested/menu2/index.vue":"dbb3","./orders/Orders":"c607","./orders/Orders.vue":"c607","./redirect":"ef3c","./redirect/":"ef3c","./redirect/index":"ef3c","./redirect/index.vue":"ef3c","./system/organizations/Organization":"6089","./system/organizations/Organization.vue":"6089","./system/roles/Perms":"3ed2","./system/roles/Perms.vue":"3ed2","./system/roles/Roles":"83b7","./system/roles/Roles.vue":"83b7","./system/users/Center":"92ef","./system/users/Center.vue":"92ef","./system/users/Users":"ded8","./system/users/Users.vue":"ded8","./table":"90fe","./table/":"90fe","./table/index":"90fe","./table/index.vue":"90fe","./tree":"69dd","./tree/":"69dd","./tree/index":"69dd","./tree/index.vue":"69dd"};function n(e){var t=o(e);return a(t)}function o(e){var t=r[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}n.keys=function(){return Object.keys(r)},n.resolve=o,e.exports=n,n.id="4b3b"},"4fea":function(e,t,a){},"55cd":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"30px"}},[a("el-alert",{attrs:{closable:!1,title:"menu 1-2",type:"success"}},[a("router-view")],1)],1)},n=[],o=a("2877"),i={},s=Object(o["a"])(i,r,n,!1,null,null,null);t["default"]=s.exports},6089:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:6}},[a("el-card",[a("el-tree",{ref:"treeRef",attrs:{data:e.allOrgsList,props:e.treeProps,"node-key":"name","default-expand-all":""}})],1)],1),e._v(" "),a("el-col",{attrs:{span:18}},[a("el-card",[e._v("\n      右侧的card\n    ")])],1)],1)},n=[],o={name:"Organization",data:function(){return{treeProps:{label:"name",children:"children"},allOrgsList:[{name:"华夏一同",children:[{name:"小伙子"},{name:"nihao"}]}]}}},i=o,s=a("2877"),l=Object(s["a"])(i,r,n,!1,null,"1094be24",null);t["default"]=l.exports},65825:function(e,t,a){"use strict";a.r(t);var r=function(e,t){var a=t._c;return a("div",{staticStyle:{padding:"30px"}},[a("el-alert",{attrs:{closable:!1,title:"menu 1-2-1",type:"warning"}})],1)},n=[],o=a("2877"),i={},s=Object(o["a"])(i,r,n,!0,null,null,null);t["default"]=s.exports},"69dd":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-input",{staticStyle:{"margin-bottom":"30px"},attrs:{placeholder:"Filter keyword"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),a("el-tree",{ref:"tree2",staticClass:"filter-tree",attrs:{data:e.data2,props:e.defaultProps,"filter-node-method":e.filterNode,"default-expand-all":""}})],1)},n=[],o={data:function(){return{filterText:"",data2:[{id:1,label:"Level one 1",children:[{id:4,label:"Level two 1-1",children:[{id:9,label:"Level three 1-1-1"},{id:10,label:"Level three 1-1-2"}]}]},{id:2,label:"Level one 2",children:[{id:5,label:"Level two 2-1"},{id:6,label:"Level two 2-2"}]},{id:3,label:"Level one 3",children:[{id:7,label:"Level two 3-1"},{id:8,label:"Level two 3-2"}]}],defaultProps:{children:"children",label:"label"}}},watch:{filterText:function(e){this.$refs.tree2.filter(e)}},methods:{filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)}}},i=o,s=a("2877"),l=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=l.exports},"6b24":function(e,t,a){},"83b7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-row",[a("el-col",[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddRoleDialog}},[e._v("添加职位")])],1)],1),e._v(" "),a("el-table",{attrs:{data:e.roleList,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.perms,(function(r,n){return a("el-row",{key:r.id,class:["v-center","bd-bottom",0===n?"bd-top":""]},[a("el-col",{attrs:{span:5}},[a("el-tag",{attrs:{closable:""},on:{close:function(a){return e.removeRolePermById(r.id,t.row,r.name)}}},[e._v(e._s(r.name))]),e._v(" "),a("i",{staticClass:"el-icon-caret-right"})],1),e._v(" "),a("el-col",{attrs:{span:19}},e._l(r.children,(function(r,n){return a("el-row",{key:r.id,class:[0===n?"":"bd-top","v-center"]},[a("el-col",{attrs:{span:6}},[a("el-tag",{attrs:{type:"success",closable:""},on:{close:function(a){return e.removeRolePermById(r.id,t.row,r.name)}}},[e._v(e._s(r.name))]),e._v(" "),a("i",{staticClass:"el-icon-caret-right"})],1),e._v(" "),a("el-col",{attrs:{span:18}},e._l(r.children,(function(r){return a("el-tag",{key:r.id,attrs:{type:"warning",closable:""},on:{close:function(a){return e.removeRolePermById(r.id,t.row,r.name)}}},[e._v("\n                    "+e._s(r.name)+"\n                  ")])})),1)],1)})),1)],1)}))}}])}),e._v(" "),a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"职位名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"org",label:"公司",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dept",label:"部门",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cur_mode",label:"数据权限",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"职位描述"}}),e._v(" "),a("el-table-column",{attrs:{label:"职位操作",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",circle:"",size:"mini"},on:{click:function(a){return e.showEditRoleDialog(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",circle:"",size:"mini"},on:{click:function(a){return e.deleteRole(t.row)}}},[e._v("删除")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"分配系统功能",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",circle:"",size:"mini"},on:{click:function(a){return e.showAddPermsDialog(t.row)}}},[e._v("功能")])],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"分配系统数据",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",circle:"",size:"mini"},on:{click:function(a){return e.showChangeDataPermsDialog(t.row)}}},[e._v("数据")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.queryInfo.page,"page-sizes":[1,2,5,10],"page-size":e.queryInfo.size,layout:"total, sizes, prev, pager, next, jumper",total:e.roleTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"分配权限",visible:e.addPermsDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addPermsDialogVisible=t},close:e.restDefaultKeys}},[a("el-tree",{ref:"treeRef",attrs:{data:e.allPermsList,props:e.treeProps,"show-checkbox":"","node-key":"id","default-expand-all":"","default-checked-keys":e.defkeys}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addPermsDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.assignPerms}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改职位详情",visible:e.editDialogVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogVisible=t},close:e.editDialogClose}},[a("el-form",{ref:"editRoleForm",attrs:{model:e.editRoleForm,rules:e.editRoleRules,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"name",label:"职位名称"}},[a("el-input",{attrs:{placeholder:"职位名称"},model:{value:e.editRoleForm.name,callback:function(t){e.$set(e.editRoleForm,"name",t)},expression:"editRoleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"desc",label:"职位描述"}},[a("el-input",{attrs:{placeholder:"职位描述"},model:{value:e.editRoleForm.desc,callback:function(t){e.$set(e.editRoleForm,"desc",t)},expression:"editRoleForm.desc"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitRoleEdit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加职位",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.addDialogClose}},[a("el-form",{ref:"addRoleForm",attrs:{model:e.addRoleForm,rules:e.addRoleRules,"label-width":"70px"}},[a("el-form-item",{attrs:{prop:"name",label:"职位名称"}},[a("el-input",{attrs:{placeholder:"请输入职位名称"},model:{value:e.addRoleForm.name,callback:function(t){e.$set(e.addRoleForm,"name",t)},expression:"addRoleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"desc",label:"职位描述"}},[a("el-input",{attrs:{placeholder:"请输入职位描述"},model:{value:e.addRoleForm.desc,callback:function(t){e.$set(e.addRoleForm,"desc",t)},expression:"addRoleForm.desc"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitRoleAdd}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"更改数据权限",visible:e.changeDataPermsDialog,width:"50%"},on:{"update:visible":function(t){e.changeDataPermsDialog=t}}},[a("el-cascader",{attrs:{options:e.orgDeptList,props:e.cascaderSettings,placeholder:"请选择组织机构",filterable:"",clearable:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.node,n=t.data;return[a("span",[e._v(e._s(n.name))]),e._v(" "),r.isLeaf?e._e():a("span",[e._v(" ("+e._s(n.children.length)+") ")])]}}]),model:{value:e.orgDeptSelect,callback:function(t){e.orgDeptSelect=t},expression:"orgDeptSelect"}}),e._v(" "),a("div",{staticStyle:{height:"10px"}}),e._v(" "),a("el-select",{attrs:{placeholder:"请选择授权模式",filterable:"",clearable:""},model:{value:e.dataModeSelect,callback:function(t){e.dataModeSelect=t},expression:"dataModeSelect"}},e._l(e.dataMode,(function(t,r){return a("el-option",{key:r,attrs:{label:t,value:r,disabled:r==e.curMode}})})),1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.changeDataPermsDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitChangeDataPermMode}},[e._v("确 定")])],1)],1)],1)],1)},n=[],o=a("75fc"),i=(a("7f7f"),a("ac6a"),a("cc5e"));function s(e,t){t.forEach((function(a,r){e.id!==a.id||t.splice(0,1,e)}))}var l={name:"Roles",data:function(){return{orgDeptSelect:"",cascaderSettings:{expandTrigger:"hover",checkStrictly:!0,value:"id",label:"name",children:"children"},orgDeptList:[],curMode:"",dataMode:{},dataModeSelect:"",roleTotal:0,queryInfo:{page:1,size:5},roleList:[],allPermsList:[],addPermsDialogVisible:!1,changeDataPermsDialog:!1,treeProps:{label:"name",children:"children"},defkeys:[],operRoleId:-1,editDialogVisible:!1,editRoleForm:{},editRoleRules:{name:[{required:!0,message:"请输入职位名称",trigger:"blur"},{min:2,max:8,message:"用户名长度在2-15个字符之间",trigger:"blur"}]},addRoleForm:{},addRoleRules:{name:[{required:!0,message:"请输入职位名称",trigger:"blur"},{min:2,max:8,message:"用户名长度在2-15个字符之间",trigger:"blur"}]},addDialogVisible:!1}},created:function(){this.getRoleList()},methods:{submitChangeDataPermMode:function(){var e=this;if(this.dataModeSelect){var t={role_id:this.operRoleId,mode:this.dataModeSelect,org_dept:this.orgDeptSelect};Object(i["a"])(t).then((function(t){e.roleList.forEach((function(a){a.id===e.operRoleId&&(a.cur_mode=t.mode,a.dept=t.dept,a.org=t.org,e.curMode=e.dataModeSelect,e.closeChangeDataPermsDialog(),e.$notify.success("更改成功"))}))})).catch((function(){e.$notify.success("更改失败")}))}else this.$notify.warning({title:"失败",message:"请选择要更改的数据权限模式"})},getDataPermsMode:function(){var e=this;Object(i["e"])({role_id:this.operRoleId}).then((function(t){e.dataMode=t.all_dataperms,e.curMode=t.cur_mode,e.orgDeptList=t.org_dept_lst})).catch((function(){e.$notify.success("获取失败")}))},showChangeDataPermsDialog:function(e){this.operRoleId=e.id,this.getDataPermsMode(),this.changeDataPermsDialog=!this.changeDataPermsDialog},closeChangeDataPermsDialog:function(){this.operRoleId=-1,this.dataModeSelect="",this.orgDeptSelect="",this.changeDataPermsDialog=!1},showAddRoleDialog:function(){this.addDialogVisible=!this.addDialogVisible},submitRoleAdd:function(){var e=this;this.$refs.addRoleForm.validate((function(t){t?Object(i["c"])(e.addRoleForm).then((function(t){e.getRoleList(),e.showAddRoleDialog(),e.$notify.success("添加职位成功")})).catch((function(){e.$notify.error("添加职位失败")})):e.$notify.error("填写信息错误")}))},addDialogClose:function(){this.addRoleForm={},this.$refs.editRoleForm.resetFields()},deleteRole:function(e){var t=this;this.$confirm("确定删除【".concat(e.name,"】这个职位吗？"),"删除职位",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i["g"])(e.id).then((function(a){t.$notify.success("删除职位成功---".concat(e.name)),t.getRoleList()})).catch((function(){t.$notify.error("删除职位失败---".concat(e.name))}))})).catch((function(){t.$notify.warning({title:"失败",message:"您已经取消删除"})}))},editDialogClose:function(){this.editRoleForm={},this.$refs.editRoleForm.resetFields()},submitRoleEdit:function(){var e=this;this.$refs.editRoleForm.validate((function(t){t?Object(i["h"])(e.operRoleId,e.editRoleForm).then((function(t){s(t,e.roleList),e.closeEditRoleDialog(),e.$notify.success("修改职位信息成功")})).catch((function(){e.$notify.error("更改职位信息失败")})):e.$notify.error("填写信息错误")}))},showEditRoleDialog:function(e){this.operRoleId=e.id,this.editRoleForm=e,this.editDialogVisible=!0},closeEditRoleDialog:function(){this.editDialogVisible=!1},handleSizeChange:function(e){this.queryInfo.size=e,this.getRoleList()},handleCurrentChange:function(e){this.queryInfo.page=e,this.getRoleList()},getRoleList:function(){var e=this;Object(i["k"])(this.queryInfo).then((function(t){e.roleList=t.data,e.roleTotal=t.total})).catch((function(t){e.$notify.error("获取职位列表错误",t)}))},getPermListToRole:function(e){var t=this;Object(i["i"])({role_id:e.id}).then((function(e){t.allPermsList=e.allperms,t.defkeys=e.ownperms})).catch((function(){t.$notify.error("获取所有权限列表失败")}))},removeRolePermById:function(e,t,a){var r=this;this.$confirm("删除该职位的【".concat(a,"】权限？"),"删除权限",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n={perm_id:e,role_id:t.id};Object(i["f"])(n).then((function(e){r.$notify.success("删除权限成功---".concat(a)),t.perms=e})).catch((function(e){r.$notify.error("删除权限失败---".concat(a),e)}))})).catch((function(e){return e}))},showAddPermsDialog:function(e){this.operRoleId=e.id,this.getPermListToRole(e),this.addPermsDialogVisible=!0},restDefaultKeys:function(){this.defkeys=[]},assignPerms:function(){var e=this,t=[].concat(Object(o["a"])(this.$refs.treeRef.getCheckedKeys()),Object(o["a"])(this.$refs.treeRef.getHalfCheckedKeys()));Object(i["b"])({role_id:this.operRoleId,perm_id:t}).then((function(t){e.$notify.success("分配权限成功"),e.roleList.forEach((function(a){a.id===e.operRoleId&&(a.perms=t)})),e.addPermsDialogVisible=!1})).catch((function(){e.$notify.error("分配权限失败")}))}}},c=l,d=(a("2d3b"),a("2877")),u=Object(d["a"])(c,r,n,!1,null,"e0283d5a",null);t["default"]=u.exports},8736:function(e,t,a){"use strict";var r=a("4fea"),n=a.n(r);n.a},"8cdb":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),e._v(" "),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("OOPS!")]),e._v(" "),e._m(1),e._v(" "),a("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),e._v(" "),a("div",{staticClass:"bullshit__info"},[e._v("Please check that the URL you entered is correct, or click the button below to return to the homepage.")]),e._v(" "),a("a",{staticClass:"bullshit__return-home",attrs:{href:"/"}},[e._v("Back to home")])])])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pic-404"},[r("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),e._v(" "),r("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),e._v(" "),r("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),e._v(" "),r("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bullshit__info"},[e._v("All rights reserved\n        "),a("a",{staticStyle:{color:"#20a0ff"},attrs:{href:"https://wallstreetcn.com",target:"_blank"}},[e._v("wallstreetcn")])])}],o={name:"Page404",computed:{message:function(){return"The webmaster said that you can not enter this page..."}}},i=o,s=(a("8736"),a("2877")),l=Object(s["a"])(i,r,n,!1,null,"1a556e5b",null);t["default"]=l.exports},"8d8b":function(e,t,a){"use strict";a.r(t);var r=function(e,t){var a=t._c;return a("div",{staticStyle:{padding:"30px"}},[a("el-alert",{attrs:{closable:!1,title:"menu 1-3",type:"success"}})],1)},n=[],o=a("2877"),i={},s=Object(o["a"])(i,r,n,!0,null,null,null);t["default"]=s.exports},"8dad":function(e,t,a){},"90fe":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.$index)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Title"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.title)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Author",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.author))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Pageviews",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.pageviews)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{"class-name":"status-col",label:"Status",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e._f("statusFilter")(t.row.status)}},[e._v(e._s(t.row.status))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"Display_time",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",[e._v(e._s(t.row.display_time))])]}}])})],1)],1)},n=[],o=a("b775");function i(e){return Object(o["a"])({url:"/vue-admin-template/table/list",method:"get",params:e})}var s={filters:{statusFilter:function(e){var t={published:"success",draft:"gray",deleted:"danger"};return t[e]}},data:function(){return{list:null,listLoading:!0}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,i().then((function(t){e.list=t.data.items,e.listLoading=!1}))}}},l=s,c=a("2877"),d=Object(c["a"])(l,r,n,!1,null,null,null);t["default"]=d.exports},"91b3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"30px"}},[a("el-alert",{attrs:{closable:!1,title:"menu 1-1",type:"success"}},[a("router-view")],1)],1)},n=[],o=a("2877"),i={},s=Object(o["a"])(i,r,n,!1,null,null,null);t["default"]=s.exports},"92ef":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-main"},[a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-row",{attrs:{span:3}},[e._v("我的头像")]),e._v(" "),a("el-row",{attrs:{span:21}},[a("div",{staticClass:"avatar-content"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,action:e.uploadImgUrl,"before-upload":e.beforeAvatarUpload,"on-success":e.uploadSuccess,headers:e.headerObj,accept:"jpg,png"}},[e.avatar?a("img",{staticClass:"avatar",attrs:{src:e.avatar,title:"点击上传头像"}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg文件，且不超过200kb")])])],1)])],1),e._v(" "),a("el-col",{attrs:{span:16}},[a("el-row",{staticClass:"content-detail"},[a("el-col",{attrs:{span:8}},[e._v("昵称")]),e._v(" "),a("el-col",{attrs:{span:16}},[e._v(e._s(e.userInfo.nickname))])],1),e._v(" "),a("el-row",{staticClass:"content-detail"},[a("el-col",{attrs:{span:8}},[e._v("邮箱")]),e._v(" "),a("el-col",{attrs:{span:16}},[e._v(e._s(e.userInfo.email))])],1),e._v(" "),a("el-row",{staticClass:"content-detail"},[a("el-col",{attrs:{span:8}},[e._v("账号状态")]),e._v(" "),a("el-col",{attrs:{span:16}},[e._v("正常")])],1),e._v(" "),a("el-row",{staticClass:"content-detail"},[a("el-col",{attrs:{span:8}},[e._v("联系方式")]),e._v(" "),a("el-col",{attrs:{span:16}},[e._v(e._s(e.userInfo.mobile))])],1),e._v(" "),a("el-row",{staticClass:"content-detail"},[a("el-col",{attrs:{span:8}},[e._v("当前角色")]),e._v(" "),a("el-col",{attrs:{span:16}},[e._v(e._s(e.userInfo.role))])],1),e._v(" "),a("el-row",{staticClass:"content-detail"},[a("el-col",{attrs:{span:8}},[e._v("注册时间")]),e._v(" "),a("el-col",{attrs:{span:16}},[e._v(e._s(e.userInfo.date_joined))])],1),e._v(" "),a("el-row",{staticClass:"content-detail"},[a("el-col",{attrs:{span:8}},[e._v("上次登录")]),e._v(" "),a("el-col",{attrs:{span:16}},[e._v(e._s(e.userInfo.last_login))])],1)],1)],1)],1),e._v(" "),a("el-card",{staticClass:"box-card reset-pass",attrs:{shadow:"never"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.showEditForm}},[e._v("修改密码")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-checkbox",{on:{change:e.updateTagsConfig},model:{value:e.showTags,callback:function(t){e.showTags=t},expression:"showTags"}},[e._v("页签模式")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-checkbox",{on:{change:e.updateAvatarConfig},model:{value:e.needShowAvatar,callback:function(t){e.needShowAvatar=t},expression:"needShowAvatar"}},[e._v("展示头像")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改密码",visible:e.editPwdVisible,width:"50%"},on:{"update:visible":function(t){e.editPwdVisible=t},close:e.resetChangePwdForm}},[a("el-form",{ref:"changePwdForm",attrs:{model:e.changePwdForm,rules:e.changePwdFormRules,size:"small","label-width":"88px"}},[a("el-form-item",{attrs:{label:"原密码",prop:"old_pwd"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"password","auto-complete":"on"},model:{value:e.changePwdForm.old_pwd,callback:function(t){e.$set(e.changePwdForm,"old_pwd",t)},expression:"changePwdForm.old_pwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码",prop:"new_pwd"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"password","auto-complete":"on"},model:{value:e.changePwdForm.new_pwd,callback:function(t){e.$set(e.changePwdForm,"new_pwd",t)},expression:"changePwdForm.new_pwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"repeat_pwd"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"password","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitEditPwd(t)}},model:{value:e.changePwdForm.repeat_pwd,callback:function(t){e.$set(e.changePwdForm,"repeat_pwd",t)},expression:"changePwdForm.repeat_pwd"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editPwdVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitEditPwd}},[e._v("确 定")])],1)],1)],1)},n=[],o=a("5f87"),i=a("c24f"),s={name:"Center",data:function(){var e=this,t=function(t,a,r){e.changePwdForm.new_pwd!==a?r(new Error("两次输入的密码不一致")):r()};return{showTags:this.$store.state.settings.tagsView,needShowAvatar:this.$store.state.settings.needShowAvatar,userInfo:Object(o["b"])(),uploadImgUrl:"http://127.0.0.1:8000/api/rbac/upload/user/headimg/",headerObj:{token:Object(o["a"])()},acceptType:"",editPwdVisible:!1,changePwdForm:{old_pwd:"",new_pwd:"",repeat_pwd:""},changePwdFormRules:{old_pwd:[{required:!0,message:"请输入密码",trigger:"blur"}],new_pwd:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],repeat_pwd:[{required:!0,validator:t,trigger:"blur"}]}}},computed:{avatar:function(){return this.$store.getters.avatar}},methods:{updateTagsConfig:function(e){this.$store.dispatch("settings/changeSetting",{key:"tagsView",value:e}),Object(o["g"])("tagsView",e)},updateAvatarConfig:function(e){this.$store.dispatch("settings/changeSetting",{key:"needShowAvatar",value:e}),Object(o["g"])("needShowAvatar",e)},resetChangePwdForm:function(){this.changePwdForm={}},submitEditPwd:function(){var e=this;this.$refs["changePwdForm"].validate((function(t){t?Object(i["b"])(e.changePwdForm).then((function(t){console.log(t),200===t.code?(e.$store.dispatch("user/logout",{},{root:!0}),e.$router.push({name:"center"})):e.$notify.error({title:"错误",message:t.message})})).catch((function(e){console.log(e)})):e.$notify.warning({title:"警告",message:"信息填写有误"})}))},showEditForm:function(){this.editPwdVisible=!this.editPwdVisible},uploadSuccess:function(e,t,a){this.$store.dispatch("user/changeAvatar",e.head_img,{root:!0})},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<.2;return t?a?t&&a:(this.$notify.error({title:"错误",message:"上传头像图片大小不能超过200kb!"}),a):(this.$notify.error({title:"错误",message:"上传头像图片只能是 JPG 格式!"}),t)}}},l=s,c=(a("095e"),a("2877")),d=Object(c["a"])(l,r,n,!1,null,"8b12ccd8",null);t["default"]=d.exports},9406:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"dashboard-text"},[e._v("name: "+e._s(e.name))]),e._v(" "),a("el-row",{attrs:{gutter:50}},[a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"box-card-dashboard"},[a("EChart",{attrs:{"echart-obj":e.dynamicState}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:50}},[a("el-col",{attrs:{span:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("视图名称1")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[e._v("刷新")])],1),e._v(" "),a("EChart",{attrs:{"echart-obj":e.barEchart}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.updateBarData}},[e._v("刷新")])],1),e._v(" "),a("EChart",{attrs:{"echart-obj":e.lineEchart}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[e._v("刷新")])],1),e._v(" "),a("EChart",{attrs:{"echart-obj":e.pieEchart}})],1)],1)],1)],1)},n=[],o=(a("7f7f"),a("ac6a"),a("db72")),i=(a("28a5"),a("2f62")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"chart",style:e.sizeObj,attrs:{id:"chart"}})},l=[],c=a("313e"),d=a.n(c),u={name:"Echart",props:{echartObj:{type:Object,default:function(){return{}}},sizeObj:{type:String,default:function(){return"width: 100%;height:100%;"}}},data:function(){return{myChart:{}}},watch:{echartObj:{handler:function(e,t){this.myChart&&this.myChart.setOption(e)},deep:!0}},mounted:function(){var e=this;window.resize=function(){e.myChart.resize()}},created:function(){var e=this;this.$nextTick((function(){e.loadEchart()}))},methods:{loadEchart:function(){this.myChart=d.a.init(this.$refs.chart),this.myChart.setOption(this.echartObj)}}},m=u,f=(a("bb39"),a("2877")),p=Object(f["a"])(m,s,l,!1,null,"4cf957f7",null),h=p.exports,b=a("b775");function v(){return Object(b["a"])({url:"/rbac/permslist/",method:"get"})}function g(){return Object(b["a"])({url:"/rbac/get/sysinfo/",method:"get"})}var _=a("72c5"),y={name:"Dashboard",components:{EChart:h},mixins:[_["a"]],data:function(){return{barEchart:{xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[120,200,150,80,70,110,130],type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(220, 220, 220, 0.8)"}}]},lineEchart:{title:{text:"销量折线图"},tooltip:{},legend:{data:[]},xAxis:{data:[]},yAxis:{},series:[]},pieEchart:{tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:10,data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"]},series:[{name:"访问来源",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"30",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}]}]},dynamicState:{tooltip:{formatter:"{a} <br/>{c} {b}"},toolbox:{show:!0,feature:{restore:{show:!0},saveAsImage:{show:!0}}},series:[{name:"CPU使用率",type:"gauge",z:3,min:0,max:100,splitNumber:10,radius:"50%",axisLine:{lineStyle:{width:10}},axisTick:{length:15,lineStyle:{color:"auto"}},splitLine:{length:20,lineStyle:{color:"auto"}},axisLabel:{backgroundColor:"auto",borderRadius:2,color:"#eee",padding:3,textShadowBlur:2,textShadowOffsetX:1,textShadowOffsetY:1,textShadowColor:"#222"},title:{fontWeight:"bolder",fontSize:20,fontStyle:"italic"},detail:{formatter:function(e){return e=(e+"").split("."),e.length<2&&e.push("00"),("00"+e[0]).slice(-2)+"."+(e[1]+"00").slice(0,2)},fontWeight:"bolder",borderRadius:3,backgroundColor:"#444",borderColor:"#aaa",shadowBlur:5,shadowColor:"#333",shadowOffsetX:0,shadowOffsetY:3,borderWidth:2,textBorderColor:"#000",textBorderWidth:2,textShadowBlur:2,textShadowColor:"#fff",textShadowOffsetX:0,textShadowOffsetY:0,fontFamily:"Arial",width:100,color:"#eee",rich:{}},data:[{value:0,name:"CPU使用率"}]},{name:"内存使用率",type:"gauge",center:["20%","55%"],radius:"35%",min:0,max:100,endAngle:45,splitNumber:10,axisLine:{lineStyle:{width:8}},axisTick:{length:12,lineStyle:{color:"auto"}},splitLine:{length:20,lineStyle:{color:"auto"}},pointer:{width:5},title:{offsetCenter:[0,"-30%"]},detail:{fontWeight:"bolder"},data:[{value:0,name:"内存使用率"}]},{name:"硬盘使用率",type:"gauge",center:["80%","55%"],radius:"40%",min:0,max:100,endAngle:0,startAngle:180,splitNumber:10,axisLine:{lineStyle:{width:8}},axisTick:{length:12,lineStyle:{color:"auto"}},splitLine:{length:20,lineStyle:{color:"auto"}},pointer:{width:5},title:{offsetCenter:[0,"-30%"]},detail:{fontWeight:"bolder"},data:[{value:0,name:"硬盘使用率"}]}]}}},computed:Object(o["a"])({},Object(i["b"])(["name"])),mounted:function(){this.timer=setInterval(this.get_sys_info,1e3)},beforeDestroy:function(){clearInterval(this.timer)},methods:{get_sys_info:function(){var e=this;g().then((function(t){e.dynamicState.series[0].data[0].value=t.cpu_usage,e.dynamicState.series[1].data[0].value=t.memory_usage,e.dynamicState.series[2].data[0].value=t.disk_usage})).catch((function(t){e.$notify.warning({title:"失败",message:"获取服务器运行信息错误"+t.message})}))},updateBarData:function(){this.getBarData_()},getBarData_:function(){var e=this;v().then((function(t){var a={data:[],name:"销量",smooth:!0,type:"line"},r=[];t.forEach((function(e){a.data.push(Math.floor(1e3*Math.random())),r.push(e.name)})),e.lineEchart.series=a,e.lineEchart.xAxis.data=r})).catch((function(t){e.$notify.error({message:"获取数据失败---"+t.message,title:"错误"})}))}}},w=y,x=(a("ef9c"),Object(f["a"])(w,r,n,!1,null,"3750cef0",null));t["default"]=x.exports},a36b:function(e,t,a){e.exports=a.p+"static/img/404.a57b6f31.png"},b6fb:function(e,t,a){"use strict";a.r(t);var r=function(e,t){var a=t._c;return a("div",{staticStyle:{padding:"30px"}},[a("el-alert",{attrs:{closable:!1,title:"menu 1-2-2",type:"warning"}})],1)},n=[],o=a("2877"),i={},s=Object(o["a"])(i,r,n,!0,null,null,null);t["default"]=s.exports},bb39:function(e,t,a){"use strict";var r=a("6b24"),n=a.n(r);n.a},c24f:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return s})),a.d(t,"b",(function(){return l}));var r=a("b775");function n(e){return Object(r["a"])({url:"/rbac/users/",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/rbac/users/"+e+"/",method:"delete"})}function i(e,t){return Object(r["a"])({url:"/rbac/users/"+e+"/",method:"put",data:t})}function s(e){return Object(r["a"])({url:"/rbac/users/",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/rbac/chagepwd/",method:"post",data:e})}},c607:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[e._v("这是业务模块订单管理。。。。。。。。开发进行中")])},n=[],o={name:"Orders"},i=o,s=a("2877"),l=Object(s["a"])(i,r,n,!1,null,"9574a29e",null);t["default"]=l.exports},c8fe:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[e._v("这是设备管理下的电子设备界面。。。。。开发进行中")])},n=[],o={name:"Edevices"},i=o,s=a("2877"),l=Object(s["a"])(i,r,n,!1,null,"fa5c4004",null);t["default"]=l.exports},cc5e:function(e,t,a){"use strict";a.d(t,"j",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"e",(function(){return s})),a.d(t,"k",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"g",(function(){return d})),a.d(t,"h",(function(){return u})),a.d(t,"i",(function(){return m})),a.d(t,"f",(function(){return f})),a.d(t,"b",(function(){return p}));var r=a("b775");function n(){return Object(r["a"])({url:"/rbac/role-to-user/",method:"get"})}function o(e){return Object(r["a"])({url:"/rbac/role-to-user/",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/rbac/data-to-role/",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/rbac/data-to-role/",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/rbac/roles/",method:"get",params:e})}function c(e){return Object(r["a"])({url:"/rbac/roles/",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/rbac/roles/".concat(e,"/"),method:"delete"})}function u(e,t){return Object(r["a"])({url:"/rbac/roles/".concat(e,"/"),method:"put",data:t})}function m(e){return Object(r["a"])({url:"/rbac/perms/",method:"get",params:e})}function f(e){return Object(r["a"])({url:"/rbac/perms/",method:"delete",data:e})}function p(e){return Object(r["a"])({url:"/rbac/perms/",method:"post",data:e})}},d3e2:function(e,t,a){"use strict";var r=a("0006"),n=a.n(r);n.a},dbb3:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"30px"}},[a("el-alert",{attrs:{closable:!1,title:"menu 2"}})],1)},n=[],o=a("2877"),i={},s=Object(o["a"])(i,r,n,!1,null,null,null);t["default"]=s.exports},ded8:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.queryInfo.keyword,callback:function(t){e.$set(e.queryInfo,"keyword",t)},expression:"queryInfo.keyword"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchData},slot:"append"})],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddUserDialog}},[e._v("新增用户")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList,stripe:"",border:""}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"姓名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dept",label:"部门",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_superuser?a("span",[e._v("系统管理员")]):a("span",[e._v(e._s(t.row.role))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",disabled:t.row.is_superuser,circle:"",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:t.row.is_superuser,circle:"",size:"mini"},on:{click:function(a){return e.deleteUserConfirm(t.row.id)}}}),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"分配角色",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-setting",disabled:t.row.is_superuser,circle:"",size:"mini"},on:{click:function(a){return e.showChangeRoleDialog(t.row)}}})],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.queryInfo.page,"page-sizes":[5,10,20,50,100],"page-size":e.queryInfo.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加用户",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.retForm}},[a("el-form",{ref:"addUserForm",attrs:{model:e.addUserForm,rules:e.addUserRules,"label-width":"70px"}},[a("el-form-item",{attrs:{prop:"username",label:"用户名"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.addUserForm.username,callback:function(t){e.$set(e.addUserForm,"username",t)},expression:"addUserForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password",label:"密码"}},[a("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.addUserForm.password,callback:function(t){e.$set(e.addUserForm,"password",t)},expression:"addUserForm.password"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"email",label:"E-mail"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.addUserForm.email,callback:function(t){e.$set(e.addUserForm,"email",t)},expression:"addUserForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"mobile",label:"手机"}},[a("el-input",{attrs:{placeholder:"请输入手机"},model:{value:e.addUserForm.mobile,callback:function(t){e.$set(e.addUserForm,"mobile",t)},expression:"addUserForm.mobile"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitAdd}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改用户",visible:e.editDialogVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogVisible=t},close:e.editDialogClose}},[a("el-form",{ref:"editUserForm",attrs:{model:e.editUserForm,rules:e.editUserRules,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{placeholder:"禁止修改",disabled:!0},model:{value:e.editUserForm.username,callback:function(t){e.$set(e.editUserForm,"username",t)},expression:"editUserForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password",label:"密码"}},[a("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.editUserForm.password,callback:function(t){e.$set(e.editUserForm,"password",t)},expression:"editUserForm.password"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"nickname",label:"昵称"}},[a("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.editUserForm.nickname,callback:function(t){e.$set(e.editUserForm,"nickname",t)},expression:"editUserForm.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"email",label:"Email"}},[a("el-input",{attrs:{placeholder:"请输入昵称"},model:{value:e.editUserForm.email,callback:function(t){e.$set(e.editUserForm,"email",t)},expression:"editUserForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"mobile",label:"手机"}},[a("el-input",{attrs:{placeholder:"请输入手机"},model:{value:e.editUserForm.mobile,callback:function(t){e.$set(e.editUserForm,"mobile",t)},expression:"editUserForm.mobile"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitEdit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"分配/修改角色",visible:e.changeUserRoleDialogVisible,width:"50%"},on:{"update:visible":function(t){e.changeUserRoleDialogVisible=t}}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},model:{value:e.roleSelect,callback:function(t){e.roleSelect=t},expression:"roleSelect"}},e._l(e.roleList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.changeUserRoleDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitChangeRole}},[e._v("确 定")])],1)],1)],1)},n=[],o=(a("ac6a"),a("c24f")),i=a("cc5e"),s={name:"Users",data:function(){var e=function(e,t,a){var r=/^1[34578]\d{9}$/;if(r.test(t))return a();a("请输入合法的手机号")},t=function(e,t,a){var r=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;if(r.test(t))return a();a("请输入正确的邮箱")};return{userList:[],roleList:[],roleSelect:"",queryInfo:{keyword:"",page:1,size:5},total:0,addDialogVisible:!1,editDialogVisible:!1,changeUserRoleDialogVisible:!1,addUserForm:{username:"",password:"",email:"",mobile:""},addUserRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:6,max:20,message:"用户名长度在6-20个字符之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度在6-20个字符之间",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:t,trigger:"blur"}],mobile:[{required:!0,message:"请输入手机",trigger:"blur"},{validator:e,trigger:"blur"}]},editUserForm:{},editUserRules:{nickname:[{required:!1,message:"请输入昵称",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度在6-20个字符之间",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:t,trigger:"blur"}],mobile:[{required:!0,message:"请输入手机",trigger:"blur"},{validator:e,trigger:"blur"}]}}},created:function(){this.handleGetUserList()},methods:{handleGetUserList:function(){var e=this;Object(o["e"])(this.queryInfo).then((function(t){e.userList=t.data,e.total=t.total})).catch((function(t){e.$notify.error("handleGetUserList"+t.message)}))},handleSizeChange:function(e){this.queryInfo.size=e,this.handleGetUserList()},handleCurrentChange:function(e){this.queryInfo.page=e,this.handleGetUserList()},initCondition:function(){this.queryInfo.page=1,this.queryInfo.size=5},searchData:function(){this.initCondition(),this.handleGetUserList()},showAddUserDialog:function(){this.addDialogVisible=!0},retForm:function(){this.$refs.addUserForm.resetFields()},submitAdd:function(){var e=this;this.$refs.addUserForm.validate((function(t){t?Object(o["a"])(e.addUserForm).then((function(t){e.$notify.success("添加用户成功"),e.addDialogVisible=!1,e.handleGetUserList()})).catch((function(){e.$notify.error("添加用户失败")})):e.$notify.error("填写信息错误")}))},showEditDialog:function(e){this.editUserForm=e,this.editDialogVisible=!0},updateDataList:function(e,t){t.forEach((function(a,r){e.id!==a.id||t.splice(0,1,e)}))},submitEdit:function(){var e=this;this.$refs.editUserForm.validate((function(t){t?Object(o["d"])(e.editUserForm.id,e.editUserForm).then((function(t){e.editDialogVisible=!1,e.$notify.success("修改用户信息成功"),e.updateDataList(t,e.userList)})).catch((function(){e.$notify.error("修改用户信息失败")})):e.$notify.error("填写信息有误")}))},editDialogClose:function(){this.$refs.editUserForm.resetFields()},delDataListItem:function(e,t){t.forEach((function(a,r){e!==a.id||t.splice(r,1)}))},deleteUserConfirm:function(e){var t=this;this.$confirm("是否删除用户，不可恢复！","删除用户",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["c"])(e).then((function(e){t.$notify.success("删除成功"),t.handleGetUserList()})).catch((function(){t.$notify.error("删除失败")}))})).catch((function(){t.$notify.info("删除取消")}))},showChangeRoleDialog:function(e){this.operUserId=e.id,this.getRoleList(),this.changeUserRoleDialogVisible=!0},submitChangeRole:function(){var e=this;this.roleSelect?Object(i["d"])({user_id:this.operUserId,role_id:this.roleSelect}).then((function(t){e.$notify.success("分配角色成功"),e.userList.forEach((function(a){a.id===e.operUserId&&(a.role=t.role)})),e.changeUserRoleDialogVisible=!1})).catch((function(){e.$notify.error("分配角色失败")})):this.$notify.warning({title:"警告",message:"请选择一个角色"})},getRoleList:function(){var e=this;Object(i["j"])().then((function(t){e.roleList=t})).catch((function(){e.$notify.error("获取角色列表失败")}))}}},l=s,c=a("2877"),d=Object(c["a"])(l,r,n,!1,null,"2dbcfcb2",null);t["default"]=d.exports},e9bc:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"30px"}},[a("el-alert",{attrs:{closable:!1,title:"menu 1"}},[a("router-view")],1)],1)},n=[],o=a("2877"),i={},s=Object(o["a"])(i,r,n,!1,null,null,null);t["default"]=s.exports},ede4:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login_div"},[a("div",{staticClass:"login"},[a("div",{staticClass:"head-icon"},[a("img",{attrs:{src:e.logo,alt:"无图无真相"}})]),e._v(" "),a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"label-width":"0px"}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码",type:e.passwordType?"password":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.passwordType?"显示密码":"隐藏密码",placement:"top",enterable:!1}},[a("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[a("svg-icon",{attrs:{"icon-class":e.passwordType?"eye":"eye-open"}})],1)])],1),e._v(" "),a("el-form-item",{staticClass:"login-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleLogin}},[e._v("登录")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:e.resetLoginForm}},[e._v("重置")])],1)],1)],1)])},n=[],o={name:"Login",data:function(){return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}]},logo:"https://wpimg.wallstcn.com/69a1c46c-eb1c-4b46-8bd4-e9e686ef5251.png",passwordType:!0}},methods:{showPwd:function(){this.passwordType=!this.passwordType},handleLogin:function(){var e=this;this.$store.dispatch("user/login",this.loginForm).then((function(){e.$router.push({path:e.redirect||"/"})})).catch((function(){console.log("登录错误。。。。。。。。。。")}))},login:function(){var e=this;this.$axios.post("/rbac/login",this.loginForm).then((function(t){e.$notify.success("登录成功"),window.sessionStorage.setItem("token",t.data.token),window.sessionStorage.setItem("username",t.data.username),e.$router.push({name:"home"})})).catch((function(t){e.$notify.error({title:"登录失败",message:"原因:"+t.message})}))},resetLoginForm:function(){this.loginForm.username="",this.loginForm.password=""}}},i=o,s=(a("43ab"),a("2877")),l=Object(s["a"])(i,r,n,!1,null,"4b92a98d",null);t["default"]=l.exports},ef3c:function(e,t,a){"use strict";a.r(t);a("a481");var r,n,o={created:function(){var e=this.$route,t=e.params,a=e.query,r=t.path;this.$router.replace({path:"/"+r,query:a})},render:function(e){return e()}},i=o,s=a("2877"),l=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=l.exports},ef9c:function(e,t,a){"use strict";var r=a("8dad"),n=a.n(r);n.a}}]);